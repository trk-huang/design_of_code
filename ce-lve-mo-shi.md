# 策略模式

简介

> 策略模式\(Strategy\):它定义了算法家族，分辨封装起来，让它们之间可以互相替换，此模式让算法的变化，不会影响到使用算法的客户。

在软件开发中常常遇到类似情况，实现某一个功能有多种算法或者策略，我们可以根据环境或者条件不同选择不同的算法或者策略来完成该功能。如商城促销手段，正常销售、打折销售、返现销售、买n免1销售等等。如果需要增增加一种新的手段，需要修改封装折扣类的源码，也需要修改客户端调用代码，将导致客户端程序庞大且难以维护。因而为了让算法和对象分开来，使得算法可以独立于使用它的客户而变化，策略模式就展示它的实力了。







适用性

当存在以下情况时，使用Strategy模式

1. 许多相关的类仅仅是行为有异。“策略”提供了一种用多个行为中的一个行为来配置一个类的方法。即一个系统需要动态地在几种算法中选择一种。
2. 需要使用一个算法的不同变体。例如，你可能会定义一些反映不同的空间/时间权衡的算法。当这些变体实现为一个算法的类层次时，可以使用策略模式。
3. 算法使用客户不应该知道的数据。可使用策略模式以避免暴露复杂的、与算法有关的 数据结构
4. 一个类定义了多种行为，并且这些行为在这个类的操作中以多个条件语句形式出现。将相关的条件分支移入它们各自的Strategy类中以替代这些条件语句。

![](/assets/未命名文件 %282%29.png)

优点：

1. 相关算法系列
2. 提供了可以替换继承关系的办法
3. 消除了一些if else 条件语句
4. 实现的选择



缺点：

1. 客户端必须知道所有的策略类，并自行决定使用哪一种策略类
2. Strategy和Context之间的通信开销
3. 策略模式将造成产生很多策略类



总结

策略模式是一个比较容易理解和使用的设计模式，策略模式是对算法的封装，它把算法的责任和算法本身分割开，委派给不同的对象管理。策略模式通常把一个系列的算法封装到一系列的策略类里面，作为一个抽象策略类的子类。用一句话来说“准备一组算法，并将每一个算法封装起来，使得他们可以互换”



























